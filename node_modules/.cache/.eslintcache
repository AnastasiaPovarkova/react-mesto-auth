[{"/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/index.js":"1","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/reportWebVitals.js":"2","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/App.js":"3","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/Header.js":"4","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/Main.js":"5","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/Footer.js":"6","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/PopupWithForm.js":"7","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/ImagePopup.js":"8","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/Card.js":"9","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/utils/api.js":"10","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/contexts/CurrentUserContext.js":"11","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/EditProfilePopup.js":"12","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/EditAvatarPopup.js":"13","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/AddPlacePopup.js":"14","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/DeleteCardPopup.js":"15","/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/index.js":"16","/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/reportWebVitals.js":"17","/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/App.js":"18","/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/Header.js":"19","/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/EditAvatarPopup.js":"20","/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/EditProfilePopup.js":"21","/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/Main.js":"22","/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/AddPlacePopup.js":"23","/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/ImagePopup.js":"24","/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/Footer.js":"25","/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/DeleteCardPopup.js":"26","/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/contexts/CurrentUserContext.js":"27","/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/utils/api.js":"28","/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/Card.js":"29","/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/PopupWithForm.js":"30"},{"size":546,"mtime":1678799906288,"results":"31","hashOfConfig":"32"},{"size":362,"mtime":1677169543829,"results":"33","hashOfConfig":"32"},{"size":5396,"mtime":1678973053991,"results":"34","hashOfConfig":"32"},{"size":263,"mtime":1678799304391,"results":"35","hashOfConfig":"32"},{"size":1933,"mtime":1678913007019,"results":"36","hashOfConfig":"32"},{"size":247,"mtime":1678799297209,"results":"37","hashOfConfig":"32"},{"size":1176,"mtime":1678799436518,"results":"38","hashOfConfig":"32"},{"size":692,"mtime":1678799333503,"results":"39","hashOfConfig":"32"},{"size":1556,"mtime":1678799228686,"results":"40","hashOfConfig":"32"},{"size":2227,"mtime":1678799869443,"results":"41","hashOfConfig":"32"},{"size":77,"mtime":1678452275282,"results":"42","hashOfConfig":"32"},{"size":1965,"mtime":1678883741326,"results":"43","hashOfConfig":"32"},{"size":1113,"mtime":1678884439783,"results":"44","hashOfConfig":"32"},{"size":1838,"mtime":1678884376711,"results":"45","hashOfConfig":"32"},{"size":550,"mtime":1678799236772,"results":"46","hashOfConfig":"32"},{"size":546,"mtime":1678799906288,"results":"47","hashOfConfig":"48"},{"size":362,"mtime":1677169543829,"results":"49","hashOfConfig":"48"},{"size":5396,"mtime":1678973053991,"results":"50","hashOfConfig":"48"},{"size":263,"mtime":1678799304391,"results":"51","hashOfConfig":"48"},{"size":1113,"mtime":1678884439783,"results":"52","hashOfConfig":"48"},{"size":1965,"mtime":1678883741326,"results":"53","hashOfConfig":"48"},{"size":1933,"mtime":1678913007019,"results":"54","hashOfConfig":"48"},{"size":1838,"mtime":1678884376711,"results":"55","hashOfConfig":"48"},{"size":692,"mtime":1678799333503,"results":"56","hashOfConfig":"48"},{"size":247,"mtime":1678799297209,"results":"57","hashOfConfig":"48"},{"size":550,"mtime":1678799236772,"results":"58","hashOfConfig":"48"},{"size":77,"mtime":1678452275282,"results":"59","hashOfConfig":"48"},{"size":2227,"mtime":1678799869443,"results":"60","hashOfConfig":"48"},{"size":1556,"mtime":1678799228686,"results":"61","hashOfConfig":"48"},{"size":1176,"mtime":1678799436518,"results":"62","hashOfConfig":"48"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"2733ci",{"filePath":"66","messages":"67","suppressedMessages":"68","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"69"},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"77","messages":"78","suppressedMessages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","suppressedMessages":"82","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"83","messages":"84","suppressedMessages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"89","messages":"90","suppressedMessages":"91","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"92","messages":"93","suppressedMessages":"94","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"95","messages":"96","suppressedMessages":"97","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104"},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"198l1ep",{"filePath":"114","messages":"115","suppressedMessages":"116","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"117","messages":"118","suppressedMessages":"119","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"120","messages":"121","suppressedMessages":"122","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"123","messages":"124","suppressedMessages":"125","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"126","messages":"127","suppressedMessages":"128","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"129","messages":"130","suppressedMessages":"131","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"132","messages":"133","suppressedMessages":"134","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"135","messages":"136","suppressedMessages":"137","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"138","messages":"139","suppressedMessages":"140","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"141","messages":"142","suppressedMessages":"143","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"144","messages":"145","suppressedMessages":"146","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"147","messages":"148","suppressedMessages":"149","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"150","messages":"151","suppressedMessages":"152","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"153","messages":"154","suppressedMessages":"155","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/index.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/reportWebVitals.js",[],[],[],"/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/App.js",["156"],[],"import { useState, useEffect } from \"react\";\nimport Header from \"./Header\";\nimport Main from \"./Main\";\nimport ImagePopup from \"./ImagePopup\";\nimport EditProfilePopup from \"./EditProfilePopup\";\nimport EditAvatarPopup from \"./EditAvatarPopup\";\nimport AddPlacePopup from \"./AddPlacePopup\";\nimport DeleteCardPopup from \"./DeleteCardPopup\";\nimport Footer from \"./Footer\";\n\nimport api from \"../utils/api\";\nimport { UserContext } from \"../contexts/CurrentUserContext\";\n\nfunction App() {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isDeleteCardPopupOpen, setIsDeleteCardPopupOpen] = useState(false);\n  const [selectedCard, setSelectedCard] = useState({});\n  const [selectedForDeleteCard, setSelectedForDeleteCard] = useState({});\n\n  const [currentUser, setCurrentUser] = useState({});\n  const [cards, setCards] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n\n  const isOpen = isEditAvatarPopupOpen || isEditProfilePopupOpen || isAddPlacePopupOpen || isDeleteCardPopupOpen || selectedCard.link\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([data, cards]) => {\n        setCurrentUser(data);\n        setCards(cards);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsDeleteCardPopupOpen(false);\n    setSelectedCard({});\n    setSelectedForDeleteCard({});\n  }\n\n  useEffect(() => {\n    function closeByEscape(evt) {\n      if(evt.key === 'Escape') {\n        closeAllPopups();\n      }\n    }\n    if(isOpen) { // навешиваем только при открытии\n      document.addEventListener('keydown', closeByEscape);\n      return () => {\n        document.removeEventListener('keydown', closeByEscape);\n      }\n    }\n  }, [isOpen]) \n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id); //поставлен ли лайк\n    if (isLiked) {\n      api\n        .unlikeCard(card._id)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch((err) => console.log(err));\n    } else {\n      api\n        .likeCard(card._id)\n        .then((newCard) => {\n          setCards((state) =>\n            state.map((c) => (c._id === card._id ? newCard : c))\n          );\n        })\n        .catch((err) => console.log(err));\n    }\n  }\n\n  function handleDeleteCard(card) {\n    setIsLoading(true);\n    api\n      .deleteCard(card._id)\n      .then(() => {\n        setCards((state) => state.filter((c) => c._id != card._id));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsLoading(false));\n  }\n\n  function changeUserInfo(data) {\n    setIsLoading(true);\n    api\n      .changeUserInfo(data)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleUpdateAvatar(avatar) {\n    setIsLoading(true);\n    api\n      .editAvatar(avatar)\n      .then((data) => {\n        setCurrentUser(data);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleAddCard(card) {\n    setIsLoading(true);\n    api\n      .addNewCard(card)\n      .then((data) => {\n        console.log(data);\n        setCards([data, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => setIsLoading(false));\n  }\n\n  function handleDeletePopupOpen(card) {\n    setSelectedForDeleteCard(card);\n    setIsDeleteCardPopupOpen(true);\n  }\n\n  return (\n    <UserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header />\n        <Main\n          cards={cards}\n          onEditAvatar={() => setIsEditAvatarPopupOpen(true)}\n          onEditProfile={() => setIsEditProfilePopupOpen(true)}\n          onAddPlace={() => setIsAddPlacePopupOpen(true)}\n          handleCardClick={() => setSelectedCard}\n          handleDeleteClick={() => handleDeletePopupOpen}\n          handleCardLike={() => handleCardLike}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          isLoading={isLoading}\n        />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          onClose={closeAllPopups}\n          onUpdateUser={changeUserInfo}\n          isLoading={isLoading}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          onClose={closeAllPopups}\n          onAddCard={handleAddCard}\n          isLoading={isLoading}\n        />\n        <DeleteCardPopup\n          card={selectedForDeleteCard}\n          isOpen={isDeleteCardPopupOpen}\n          onClose={closeAllPopups}\n          onDeleteSubmit={handleDeleteCard}\n          isLoading={isLoading}\n        />\n        <ImagePopup card={selectedCard} onClose={closeAllPopups} />\n        <Footer />\n      </div>\n    </UserContext.Provider>\n  );\n}\n\nexport default App;\n","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/Header.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/Main.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/Footer.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/PopupWithForm.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/ImagePopup.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/Card.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/utils/api.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/contexts/CurrentUserContext.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/EditProfilePopup.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/EditAvatarPopup.js",["157"],[],"import React from \"react\";\nimport PopupWithForm from \"./PopupWithForm\";\n\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading }) {\n  const avatarRef = React.createRef(\"\");\n\n  React.useEffect(() => {\n    avatarRef.current.value = \"\";\n  }, [isOpen]);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    onUpdateAvatar({\n      avatar: avatarRef.current.value /* Значение инпута, полученное с помощью рефа */,\n    });\n  }\n\n  return (\n    <PopupWithForm\n      classs=\"edit-avatar\"\n      name=\"avatar-content\"\n      title=\"Обновить аватар\"\n      onClose={onClose}\n      isOpen={isOpen}\n      onSubmit={handleSubmit}\n      isLoading={isLoading}\n    >\n      <input\n        type=\"url\"\n        id=\"avatar-field\"\n        ref={avatarRef}\n        className=\"popup__field popup__field_input_avatar\"\n        required\n        placeholder=\"Ссылка на аватар\"\n        name=\"link\"\n        defaultValue=\"\"\n      />\n      <span className=\"avatar-field-error popup__field-error\"></span>\n    </PopupWithForm>\n  );\n}\n\nexport default EditAvatarPopup;\n","/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/AddPlacePopup.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/DeleteCardPopup.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/index.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/reportWebVitals.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/App.js",["158"],[],"/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/Header.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/EditAvatarPopup.js",["159"],[],"/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/EditProfilePopup.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/Main.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/AddPlacePopup.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/ImagePopup.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/Footer.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/DeleteCardPopup.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/contexts/CurrentUserContext.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/utils/api.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/Card.js",[],[],"/Users/nastya/Desktop/Yandex_Practicum/react-mesto-auth/src/components/PopupWithForm.js",[],[],{"ruleId":"160","severity":1,"message":"161","line":88,"column":55,"nodeType":"162","messageId":"163","endLine":88,"endColumn":57},{"ruleId":"164","severity":1,"message":"165","line":9,"column":6,"nodeType":"166","endLine":9,"endColumn":14,"suggestions":"167"},{"ruleId":"160","severity":1,"message":"161","line":88,"column":55,"nodeType":"162","messageId":"163","endLine":88,"endColumn":57},{"ruleId":"164","severity":1,"message":"165","line":9,"column":6,"nodeType":"166","endLine":9,"endColumn":14,"suggestions":"168"},"eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","react-hooks/exhaustive-deps","React Hook React.useEffect has a missing dependency: 'avatarRef'. Either include it or remove the dependency array.","ArrayExpression",["169"],["170"],{"desc":"171","fix":"172"},{"desc":"171","fix":"173"},"Update the dependencies array to be: [avatarRef, isOpen]",{"range":"174","text":"175"},{"range":"176","text":"175"},[255,263],"[avatarRef, isOpen]",[255,263]]