{"ast":null,"code":"import _slicedToArray from\"/Users/nastya/Desktop/Yandex_Practicum/mesto-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from'react';import coursor from'../images/AvatarEditCoursor.svg';import'../index.css';import api from'../utils/api';import Card from'./Card';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Main(_ref){var onEditAvatar=_ref.onEditAvatar,onEditProfile=_ref.onEditProfile,onAddPlace=_ref.onAddPlace,handleCardClick=_ref.handleCardClick;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),userDescription=_useState4[0],setUserDescription=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),userAvatar=_useState6[0],setUserAvatar=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),cards=_useState8[0],setCards=_useState8[1];useEffect(function(){Promise.all([api.getUserInfo(),api.getInitialCards()]).then(function(_ref2){var _ref3=_slicedToArray(_ref2,2),data=_ref3[0],cards=_ref3[1];setUserName(data.name);setUserDescription(data.about);setUserAvatar(data.avatar);setCards(cards.map(function(card){return{id:card._id,src:card.link,cardName:card.name,alt:card.name,likes:card.likes};}));}).catch(function(err){return console.log(err);});},[]);return/*#__PURE__*/_jsxs(\"main\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"section\",{className:\"profile\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__image\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"profile__avatar\",src:userAvatar,alt:\"\\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\",onClick:onEditAvatar}),/*#__PURE__*/_jsx(\"img\",{className:\"profile__edit\",src:coursor,alt:\"\\u043A\\u043D\\u043E\\u043F\\u043A\\u0430 \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"profile__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"profile__title\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"profile__name\",children:userName}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"aria-label\":\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\",className:\"profile__edit-button\",onClick:onEditProfile})]}),/*#__PURE__*/_jsx(\"p\",{className:\"profile__profession\",children:userDescription})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",\"aria-label\":\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E\\u043A\\u0430\\u0440\\u0442\\u043E\\u0447\\u043A\\u0443\",className:\"profile__add-button\",onClick:onAddPlace})]}),/*#__PURE__*/_jsx(\"section\",{className:\"elements\",children:cards.map(function(card){return/*#__PURE__*/_jsx(Card,{card:card,onCardClick:handleCardClick()},card.id);})})]});}export default Main;","map":{"version":3,"names":["useEffect","useState","coursor","api","Card","jsx","_jsx","jsxs","_jsxs","Main","_ref","onEditAvatar","onEditProfile","onAddPlace","handleCardClick","_useState","_useState2","_slicedToArray","userName","setUserName","_useState3","_useState4","userDescription","setUserDescription","_useState5","_useState6","userAvatar","setUserAvatar","_useState7","_useState8","cards","setCards","Promise","all","getUserInfo","getInitialCards","then","_ref2","_ref3","data","name","about","avatar","map","card","id","_id","src","link","cardName","alt","likes","catch","err","console","log","className","children","onClick","type","onCardClick"],"sources":["/Users/nastya/Desktop/Yandex_Practicum/mesto-react/src/components/Main.js"],"sourcesContent":["import {useEffect, useState} from 'react';\nimport coursor from '../images/AvatarEditCoursor.svg';\nimport '../index.css';\nimport api from '../utils/api';\nimport Card from './Card';\n\nfunction Main({onEditAvatar, onEditProfile, onAddPlace, handleCardClick}) {\n\n  const [userName, setUserName] = useState('');\n  const [userDescription, setUserDescription] = useState('');\n  const [userAvatar, setUserAvatar] = useState('');\n  const [cards, setCards] = useState([]);\n\n  useEffect(() => {\n    Promise.all([api.getUserInfo(), api.getInitialCards()])\n      .then(([data, cards]) => {\n        setUserName(data.name);\n        setUserDescription(data.about);\n        setUserAvatar(data.avatar);\n        setCards(cards.map((card) => ({\n          id: card._id,\n          src: card.link,\n          cardName: card.name,\n          alt: card.name,\n          likes: card.likes\n        })))\n      })\n      .catch(err => console.log(err));\n  }, []);\n\n  return (\n    <main className=\"content\">\n  \n      <section className=\"profile\">\n        <div className=\"profile__image\">\n          <img \n            className=\"profile__avatar\" \n            src={userAvatar} \n            alt=\"аватар\"\n            onClick={onEditAvatar}/> \n          <img className=\"profile__edit\" src={coursor} alt=\"кнопка редактирования\"/>\n        </div>\n        <div className=\"profile__info\">\n          <div className=\"profile__title\">\n            <h1 className=\"profile__name\">{userName}</h1>\n            <button \n              type=\"button\" \n              aria-label=\"Редактировать\" \n              className=\"profile__edit-button\"\n              onClick={onEditProfile}>\n            </button>\n          </div>\n          <p className=\"profile__profession\">{userDescription}</p>\n        </div>\n        <button \n          type=\"button\" \n          aria-label=\"Добавить фотокарточку\" \n          className=\"profile__add-button\"\n          onClick={onAddPlace}>\n        </button>\n      </section> \n  \n      <section className=\"elements\">\n        {\n          cards.map((card) => {\n            return <Card key={card.id} card={card} onCardClick={handleCardClick()}/>\n          })\n        }\n      </section> \n  \n    </main> \n  );\n}\n\nexport default Main;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}